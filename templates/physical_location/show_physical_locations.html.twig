{% macro showAll(physical_location, depth=0) %}
        {% for location in physical_location.subLocations %}
            <div class="accordion border-dark" id="accordion{{location.id}}">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="header{{location.id}}">
                        <button 
                        class="accordion-button" 
                        type="button" 
                        data-bs-toggle="collapse" data-bs-target="#collapseOne{{location.id}}" 
                        aria-expanded="false" aria-controls="collapseOne">
                            <i class="bi bi-folder-fill me-1"></i><strong>{{ location.title }} </strong>
                        </button>
                    </h2>
                    <div 
                    id="collapseOne{{location.id}}" 
                    class="accordion-collapse collapse" 
                    aria-labelledby="headingOne" ">
                        <div class="accordion-body">
                            <ul class="nav nav-tabs" id="myTab{{location.id}}" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="home-tab{{location.id}}" data-bs-toggle="tab" data-bs-target="#home{{location.id}}" type="button" role="tab" aria-controls="home" aria-selected="true">Sous Dossiers
                                    <span class="badge bg-primary rounded-pill">{{ location.subLocations|length }}</span></button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="profile-tab{{location.id}}" data-bs-toggle="tab" data-bs-target="#profile{{location.id}}" type="button" role="tab" aria-controls="profile" aria-selected="false">Oeuvres
                                    <span class="badge bg-primary rounded-pill">{{ location.artworks|length }}</span></button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="contact-tab{{location.id}}" data-bs-toggle="tab" data-bs-target="#contact{{location.id}}" type="button" role="tab" aria-controls="contact" aria-selected="false">Infos</button>
                                </li>
                            </ul>
                            <div class="tab-content" id="myTabContent{{location.id}}">
                                <div class="tab-pane fade show active" id="home{{location.id}}" role="tabpanel" aria-labelledby="home-tab">
                                    {{ _self.showAll(location) }}    
                                </div>
                                <div class="tab-pane fade" id="profile{{location.id}}" role="tabpanel" aria-labelledby="profile-tab{{location.id}}">
                                {% include 'artwork/_show_table.html.twig' with { artworks: location.artworks } only %}
                                </div>
                                <div class="tab-pane fade" id="contact{{location.id}}" role="tabpanel" aria-labelledby="contact-tab{{location.id}}">
                                ...
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
{% endmacro %}

{% macro showAll2(physical_location, depth=0) %}
        {% for location in physical_location.subLocations %}
            <div class="just-padding">
                <div class="list-group list-group-root well bg-light border-0 rounded-0 py-0 px-0 h-100">
                    {% if depth == 0 %}
                    {% set iconpadding = 10 %}
                    {% set iconmargin= 0 %}
                    {% else %}
                    {% set iconpadding = depth*10 %}
                    {% set iconmargin = depth*10 %}
                    {% endif %}
                    <a 
                    href="#item-{{location.id}}" 
                    class="list-group-item fs-6 py-0 ps-1 border-0" 
                    data-bs-toggle="collapse" 
                    data-bs-target="#item-{{location.id}}"
                    >
                        <i class="bi bi-folder-fill me-1"></i>{{ location.title }}
                    </a>
                <div class="group-container ps-2">
                    <div class="list-group collapse rounded-0 py-0 border-0 border-start" id="item-{{location.id}}"
                    ">

                    {{ _self.showAll2(location, depth+1) }}

                    {% for artwork in location.artworks %}
                    <a class="list-group-item bg-light border-0 py-0 ps-1" href="#" style="">
                        <img src="{{artwork.mainImage}}" style="height:15px" class="img-fluid"/>
                        {{ artwork.title }}
                    </a>
                    {% endfor %}
                    </div>
                </div>
                </div>
            </div>
        {% endfor %}
{% endmacro %}


{% macro showAllOld(physical_location, depth=0) %}
        {% for location in physical_location.subLocations %}
            <div class="just-padding">
                <div class="list-group list-group-root well bg-light rounded-0">
                    {% if depth == 0 %}
                    {% set iconpadding = 10 %}
                    {% else %}
                    {% set iconpadding = depth*25 %}
                    {% endif %}
                    <a 
                    href="#item-{{location.id}}" 
                    class="list-group-item" 
                    data-bs-toggle="collapse" 
                    data-bs-target="#item-{{location.id}}"
                    style="padding-left:{{iconpadding}}px"
                    >
                        <i class="bi bi-folder-fill me-1"></i>{{ location.title }}
                    </a>
                    <div class="list-group collapse rounded-0" id="item-{{location.id}}">

                    {{ _self.showAll2(location, depth+1) }}
                        {% for artwork in location.artworks %}
                            <a class="list-group-item  bg-light" href="#" style="padding-left:{{depth*25+25}}px">
                                <img src="{{artwork.mainImage}}" style="height:50px" class="img-fluid"/>
                                {{ artwork.title }}
                            </a>
                        {% endfor %}
                    </div>
                </div>
            </div>
        {% endfor %}
{% endmacro %}
